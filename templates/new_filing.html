{% extends "base.html" %}

{% block title %}New LCA Filing - H-1B LCA Automation{% endblock %}

{% block content %}
<h1>Start New LCA Filing</h1>

<div class="section">
    <p>Enter the basic information to start a new LCA filing. You'll have the chance to review before submission.</p>

    <form method="POST" action="{{ url_for('new_filing') }}">
        <h2>FLAG Portal Credentials</h2>
        <div class="form-group">
            <label for="flag_username">FLAG Username/Email</label>
            <input type="email" id="flag_username" name="flag_username" value="anvprakshep@gmail.com" required>
        </div>

        <div class="form-group">
            <label for="flag_password">FLAG Password</label>
            <input type="password" id="flag_password" name="flag_password" value="hPi6S<82H6cF^PW" required>
        </div>

        <div class="form-group">
            <label for="totp_secret">TOTP Secret (If 2FA enabled)</label>
            <input type="text" id="totp_secret" name="totp_secret" value="RWUZESVWB3BLY6GHM5Z3PV3Y4LMCY4ZJ">
            <small>Leave blank if not using two-factor authentication or if already configured</small>
        </div>

        <h2>Employer Information</h2>
        <div class="form-group">
            <label for="employer_name">Employer Name</label>
            <input type="text" id="employer_name" name="employer_name" value="Test" required>
        </div>

        <div class="form-group">
            <label for="employer_fein">FEIN (Federal Employer ID Number)</label>
            <input type="text" id="employer_fein" name="employer_fein" pattern="\d{9}" value="123456789" title="9-digit FEIN" required>
        </div>

        <p>
            <input type="checkbox" id="show_more_employer" value="false" name="show_more_employer" checked>
            <label for="show_more_employer">Include additional employer details</label>
        </p>

        <div id="additional_employer_info">
            <div class="form-group">
                <label for="naics_code">NAICS Code</label>
                <input type="text" id="naics_code" name="naics_code">
            </div>

            <div class="form-group">
                <label for="employer_address">Address</label>
                <input type="text" id="employer_address" name="employer_address">
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="employer_city">City</label>
                    <input type="text" id="employer_city" name="employer_city">
                </div>

                <div class="form-group">
                    <label for="employer_state">State</label>
                    <select id="employer_state" name="employer_state">
                        <option value="">Select State</option>
                        <option value="AL">Alabama</option>
                        <option value="AK">Alaska</option>
                        <!-- More states would be listed here -->
                        <option value="WY">Wyoming</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="employer_zip">ZIP Code</label>
                    <input type="text" id="employer_zip" name="employer_zip" pattern="^\d{5}(-\d{4})?$">
                </div>
            </div>

            <div class="form-group">
                <label for="employer_phone">Phone Number</label>
                <input type="tel" id="employer_phone" name="employer_phone">
            </div>

            <div class="form-group">
                <label for="employer_email">Email</label>
                <input type="email" id="employer_email" name="employer_email">
            </div>
        </div>

        <h2>Basic Job Information</h2>
        <div class="form-group">
            <label for="job_title">Job Title</label>
            <input type="text" id="job_title" value="MD" name="job_title" required>
        </div>

        <div class="form-group">
            <label for="soc_code">SOC Code</label>
            <input type="text" id="soc_code" value="15-1132" name="soc_code" required placeholder="e.g. 15-1132">
        </div>

        <h2>Processing Options</h2>
        <div class="form-group">
            <label>
                <input type="checkbox" id="capture_elements" name="capture_elements" checked>
                Dynamically capture form elements from FLAG portal
            </label>
            <small>Recommended. This will analyze the exact form structure in real-time.</small>
        </div>

        <div class="form-group">
            <label>
                <input type="checkbox" id="interactive_mode" name="interactive_mode" checked>
                Interactive mode for complex fields
            </label>
            <small>The system will prompt you for input on fields that require human judgment.</small>
        </div>

        <div class="form-group">
            <button type="submit">Start LCA Filing Process</button>
        </div>
    </form>
</div>
{% endblock %}